import{d as w,T as _,c as r,o as d,l as k,a as e,i as D,Z as N,h as b,t as a,u as s,f as t,x as f,b as v,O as S}from"./app-DJ-fD94H.js";import{_ as U}from"./AdminLayout-B1QBJPWj.js";import{_ as y}from"./SpinnerBtn-DxNvfNIz.js";import"./AssetModal-DZH22--1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-C7RV5WML.js";import"./ToastrContainer-5g7qc7pA.js";const V={class:"space-y-6"},j={class:"alert alert-info",role:"alert"},C={class:"card"},K={class:"card-body"},B={class:"flex justify-between"},T={class:"card-title"},z={class:"card-body"},A={key:0,class:"my-3 flex items-center justify-between rounded-lg border p-4"},E={class:"mb-2"},I={for:""},O=["value"],Y={class:"mb-2"},$={key:0,class:"alert alert-info",role:"alert"},F=w({layout:U}),J=Object.assign(F,{__name:"Index",props:["version","purchaseKey","updateData"],setup(o){var p;const l=o,c=_({purchase_key:l.purchaseKey}),u=_({version:(p=l.updateData)==null?void 0:p.version}),g=()=>{c.post(route("admin.update.store"),{onError:n=>{console.log(n)}})},x=()=>{var i;if(u.processing)return;let n=(i=l.updateData)==null?void 0:i.version;S.init(route("admin.update.update",n),{method:"put",options:{confirm_text:t("Are you sure you want to update to version v."+n+"?"),message:t("Warning: You will not be able to revert this back once updated!"),accept_btn_text:t("Yes, Update Now"),reject_btn_text:t("No, Skip This Update")}})};return(n,i)=>{var m,h;return d(),r("div",V,[k(e("div",j,[i[0]||(i[0]=e("i",{width:"1rem",height:"1rem","data-feather":"alert-circle"},null,-1)),e("p",null,[e("b",null,a(s(t)("Note"))+":",1),b(" "+a((m=o.updateData)==null?void 0:m.message),1)])],512),[[N,(h=o.updateData)==null?void 0:h.message]]),e("div",C,[e("div",K,[e("div",B,[e("h4",T,a(s(t)("Site Update")),1),e("p",null,a(s(t)("Current Version"))+" "+a(o.version),1)]),e("div",z,[o.updateData?(d(),r("div",A,[e("p",null,a(s(t)("Update Available")),1),e("h6",null,a(o.updateData.version),1),e("div",null,[e("form",{onSubmit:f(x,["prevent"])},[v(y,{processing:s(u).processing,"btn-text":s(t)("Update Now")},null,8,["processing","btn-text"])],32)])])):(d(),r("form",{key:1,onSubmit:f(g,["prevent"])},[e("div",E,[e("label",I,a(s(t)("Purchase Key")),1),e("input",{type:"text",class:"input",value:o.purchaseKey,disabled:""},null,8,O)]),e("div",Y,[v(y,{processing:s(c).processing,disabled:!s(c).purchase_key,"btn-text":s(t)("Check New Update")},null,8,["processing","disabled","btn-text"])])],32))])])]),o.updateData?D("",!0):(d(),r("div",$,[i[1]||(i[1]=e("i",{width:"1rem",height:"1rem","data-feather":"alert-circle"},null,-1)),e("p",null,[e("b",null,a(s(t)("Note"))+":",1),b(" "+a(s(t)("If you have customized the script from codebase do not use this option. you will lose your customization.")),1)])]))])}}});export{J as default};

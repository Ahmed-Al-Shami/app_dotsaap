import{h as N,T as j,r as V,c as i,o,a as e,f as P,g as y,b as u,F as f,e as g,i as C,t as s,u as a,w as h,d as k,v as M,j as w,k as A}from"./app-DFR9ukeL.js";import{_ as O,s as R,u as E,c as U,d as q,b as G}from"./UserLayout-ZJnFgH6-.js";import{_ as $}from"./SpinnerBtn-tEtn_0fY.js";const H={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4"},J={class:"flex items-center justify-between"},K={class:"text-lg capitalize"},Q={class:"dropdown-list"},W={class:"dropdown-list-item"},X=["onClick"],Y={class:"dropdown-list-item"},Z=["href"],ee={class:"flex h-32 items-center justify-center pb-5"},te={class:"styled-scrollbar max-h-[calc(100vh-120px)] overflow-y-auto pb-10"},se={class:"label mb-1 mt-4 text-lg font-bold capitalize"},ae=["for"],le=["onUpdate:modelValue"],oe={value:"null",selected:""},ne=["value"],ie=["id","onUpdate:modelValue","disabled"],re={class:"block"},de={class:"flex justify-end gap-3"},ce={class:"label mb-1"},ue={class:"grid grid-cols-2 gap-2"},me={class:"label mb-1"},pe={value:""},fe=["value"],ve={class:"label mb-1"},be=["value"],ge={class:"label mb-1"},_e={class:"mt-2 flex items-center justify-between"},he=["href"],ke=Object.assign({layout:O},{__name:"Index",props:["providerConfigSchema","providerConfig","aiTrainingCredentials","aiModules","demoDatasets"],setup(m){const{trim:z,deleteRow:F}=R(),I=m,r=N(null),x=E(),p=j({...I.providerConfigSchema}),c=j({provider:"",dataset:"",title:"",file_type:"json"}),T=()=>{p.post(route("user.aitraining.ai-training-credential.store"))},B=()=>{c.post(route("user.aitraining.ai-training.import-dataset"),{onSuccess:()=>{c.reset(),x.close("importDataset")}})};return(l,d)=>{var S;const _=V("Icon"),L=V("Link");return o(),i(f,null,[e("div",H,[(o(!0),i(f,null,g(m.providerConfig,(t,n)=>(o(),i("div",{key:n,class:"card card-body relative"},[e("div",J,[e("p",K,s(t==null?void 0:t.info.name),1),u(q,{"btn-type":"icon","icon-name":"bx:dots-vertical-rounded","btn-class":"p-0",position:"left"},{default:C(()=>[e("ul",Q,[e("li",W,[e("button",{onClick:()=>{r.value=n,a(x).open("aiCredentials")},class:"dropdown-link gap-4"},[u(_,{icon:"bx:key"}),w(" "+s(l.trans("Ai Credentials")),1)],8,X)]),e("li",Y,[u(L,{href:l.route("user.aitraining.ai-training.show",n),class:"dropdown-link gap-4"},{default:C(()=>[u(_,{icon:"bx:align-left"}),w(" "+s(l.trans("Logs")),1)]),_:2},1032,["href"])]),(o(!0),i(f,null,g(m.aiModules[n].dropdown_items,v=>(o(),i("li",{key:v,class:"dropdown-list-item"},[e("a",{class:"dropdown-link gap-4",href:v.url},[u(_,{icon:v.icon},null,8,["icon"]),w(" "+s(v.text),1)],8,Z)]))),128))])]),_:2},1024)]),e("div",ee,[u(_,{icon:t==null?void 0:t.info.icon,class:"text-6xl"},null,8,["icon"])])]))),128))]),((S=Object.keys(m.providerConfig))==null?void 0:S.length)<1?(o(),P(G,{key:0})):y("",!0),u(U,{onClose:d[1]||(d[1]=t=>r.value=null),state:"aiCredentials","modal-type":"sidebar","header-state":!0,"header-title":l.trans("AI Credentials Configuration"),"modal-size":"w-3/12"},{default:C(()=>[e("div",te,[r.value?(o(),i(f,{key:0},[e("label",se,s(r.value),1),a(p)[r.value]?(o(!0),i(f,{key:0},g(a(p)[r.value],(t,n)=>{var v,D;return o(),i("div",{key:n},[e("label",{class:"label mb-1 capitalize",for:n},s(a(z)(n)),9,ae),n==="model"&&((D=(v=m.providerConfig[r.value])==null?void 0:v.info)!=null&&D.supported_models)?h((o(),i("select",{key:0,class:"select","onUpdate:modelValue":b=>a(p)[r.value][n]=b},[e("option",oe,s(l.trans("Select Model")),1),(o(!0),i(f,null,g(m.providerConfig[r.value].info.supported_models,b=>(o(),i("option",{key:b,value:b},s(b),9,ne))),128))],8,le)),[[k,a(p)[r.value][n]]]):h((o(),i("input",{key:1,class:"input",id:n,"onUpdate:modelValue":b=>a(p)[r.value][n]=b,disabled:["redirect","base_url","refresh_token"].includes(n)},null,8,ie)),[[M,a(p)[r.value][n]]])])}),128)):y("",!0),e("small",re,"* "+s(l.trans("Please! provide correct credentials.")),1),e("small",null,"* "+s(l.trans("Check your credentials before submit.")),1)],64)):y("",!0)]),e("div",de,[e("button",{class:"btn btn-danger max-w-max",onClick:d[0]||(d[0]=t=>a(F)(l.route("user.aitraining.ai-training-credential.destroy",r.value)))},[u(_,{icon:"bx:trash"}),w(" "+s(l.trans("Remove")),1)]),u($,{processing:a(p).processing,onClick:T,"btn-text":l.trans("Save"),icon:"bx:save",class:"w-full"},null,8,["processing","btn-text"])])]),_:1},8,["header-title"]),u(U,{state:"importDatasetModal","header-state":!0,"header-title":l.trans("Import Dataset")},{default:C(()=>[e("form",{onSubmit:A(B,["prevent"]),class:"space-y-2"},[e("div",null,[e("label",ce,s(l.trans("Title")),1),h(e("input",{type:"text","onUpdate:modelValue":d[2]||(d[2]=t=>a(c).title=t),class:"input"},null,512),[[M,a(c).title]])]),e("div",ue,[e("div",null,[e("label",me,s(l.trans("Select Provider")),1),h(e("select",{class:"select capitalize","onUpdate:modelValue":d[3]||(d[3]=t=>a(c).provider=t)},[e("option",pe,s(l.trans("Select Provider")),1),(o(!0),i(f,null,g(Object.keys(m.providerConfig),t=>(o(),i("option",{key:t,value:t},s(t),9,fe))),128))],512),[[k,a(c).provider]])]),e("div",null,[e("label",ve,s(l.trans("Select File Format")),1),h(e("select",{class:"select uppercase","onUpdate:modelValue":d[4]||(d[4]=t=>a(c).file_type=t)},[(o(),i(f,null,g(["csv","json"],t=>e("option",{key:t,value:t},s(t),9,be)),64))],512),[[k,a(c).file_type]])])]),e("div",null,[e("label",ge,s(l.trans("Select Dataset")),1),e("input",{type:"file",accept:".json,.csv,.xlsx",onChange:d[5]||(d[5]=t=>a(c).dataset=t.target.files[0]),class:"input"},null,32)]),e("div",_e,[e("a",{href:m.demoDatasets[a(c).file_type],class:"text-sm text-primary-500 underline",download:"",target:"_blank"},s(l.trans("Download Demo Dataset")),9,he),u($,{processing:a(c).processing},null,8,["processing"])])],32)]),_:1},8,["header-title"])],64)}}});export{ke as default};

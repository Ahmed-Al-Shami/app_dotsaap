import{A as d,r as g,c as p,o as r,b as m,a,t as h,u as i,B as b,m as v,i as k,Z as u,F as _}from"./app-BPxwetsb.js";import C from"./ChatLayout-0pVQkw9j.js";import x from"./MessageContainer-CBXOca-S.js";import f from"./Modals-Clsk2RHQ.js";import y from"./RightSidebar-BxvoUJHN.js";import{_ as $}from"./UserLayout-CXO-83Mq.js";import{u as w}from"./chatStore-BmGZKHrH.js";import{s as B}from"./sharedComposable-TMw4c8uc.js";import"./LeftSidebar-B6q5yyqv.js";import"./IntersectionObserver-D-rwMhVF.js";import"./moment-BAtM24Ew.js";import"./modalStore-CB1x_O57.js";import"./echoServiceComposable-DU9yHR3K.js";import"./toastComposable-BZSSJ7BC.js";import"./SpinnerBtn-CfgwDcW3.js";import"./assetStore-W3D4A6Yl.js";import"./Header-zfPyx5s_.js";import"./MediaPreview-g_w6JAEC.js";import"./MessagePreview-BjWtOddu.js";import"./PollPreview-BsmgxXjz.js";import"./LocationPreview-BGpMszWs.js";import"./QuickReplyPreview-N23d0bgv.js";import"./ReplyPreview-HgffEWxI.js";import"./AssetModal-Dh0jwXcc.js";import"./Modal-BIKyjMag.js";import"./MultiSelect-i-Xpur08.js";import"./multiselect-B77LSZRy.js";import"./NoDataFound-B_cqdyiG.js";import"./QuickReplyModal-DbQSnOv3.js";import"./TemplateMessageModal-BG3hARuh.js";import"./TemplatePreview-AHGk3drd.js";const S={class:"card card-body relative flex flex-col items-center justify-center gap-4"},j={class:"text-gray-400 dark:text-gray-500"},q=d({__name:"NoConversation",emits:["click"],setup(c,{emit:n}){const t=n;return(s,e)=>{const o=g("Icon");return r(),p("div",S,[m("button",{class:"absolute left-1 top-1 inline-flex size-9 items-center justify-center rounded-full bg-black/20 xl:hidden",onClick:e[0]||(e[0]=l=>t("click"))},[a(o,{icon:"bx:menu",class:"size-6"})]),e[1]||(e[1]=m("img",{class:"w-2/3",src:"/assets/svg/chatting.svg",alt:""},null,-1)),m("h4",j,h(i(b)("Start a conversation")),1)])}}}),nt=Object.assign({layout:[$,C]},{__name:"Index",props:["platforms","chat_templates","quick_replies","badges","api_base_url","languages","module_features"],setup(c){const{authUser:n}=B(),t=c,s=w();return v(()=>{var e,o;s.features=t.module_features,s.$patch({baseApiUrl:t.api_base_url??"",platforms:t.platforms??[],chatTemplates:t.chat_templates??[],quickReplies:t.quick_replies??[],aiTemplates:t.ai_templates??[],badges:t.badges??[],languages:t.languages??[],conversations:[]}),s.platforms.forEach(l=>{s.fetchConversations(l)}),s.connectWebSocket(`live-chat.whatsapp-web.${(o=(e=n.value)==null?void 0:e.active_workspace)==null?void 0:o.owner_id}`)}),(e,o)=>(r(),p(_,null,[a(i(u),{title:e.trans("Whatsapp Conversations")},null,8,["title"]),a(f),a(i(u),{title:e.trans("Chats")},null,8,["title"]),i(s).hasActiveConversation?(r(),p(_,{key:0},[a(x),a(y),a(f)],64)):(r(),k(q,{key:1}))],64))}});export{nt as default};

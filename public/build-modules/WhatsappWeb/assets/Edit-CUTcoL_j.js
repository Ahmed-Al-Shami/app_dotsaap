import{A as h,k as V,m as b,c as _,o as g,b as t,t as i,f as x,T as y,a as m,u as s,e as w,h as $,j as M}from"./app-BPxwetsb.js";import{_ as N}from"./SpinnerBtn-CfgwDcW3.js";import{_ as U}from"./UserLayout-CXO-83Mq.js";import{_ as k}from"./MultiSelect-i-Xpur08.js";import{_ as I}from"./InputField-BDAJSC3g.js";import"./sharedComposable-TMw4c8uc.js";import"./toastComposable-BZSSJ7BC.js";import"./Modal-BIKyjMag.js";import"./modalStore-CB1x_O57.js";import"./IntersectionObserver-D-rwMhVF.js";import"./AssetModal-Dh0jwXcc.js";import"./assetStore-W3D4A6Yl.js";import"./multiselect-B77LSZRy.js";const S={class:"flex gap-x-2 items-center"},T=["href"],j=["src","alt"],A=h({__name:"ImageInput",props:["label","modelValue"],emits:["update:modelValue"],setup(d,{emit:r}){const e=d,c=r,a=V("");b(()=>{typeof e.modelValue=="string"&&(a.value=e.modelValue)});const p=u=>{const o=new FileReader;o.readAsDataURL(u),o.onload=()=>{a.value=o.result},c("update:modelValue",u)};return(u,o)=>(g(),_("div",null,[t("label",null,i(d.label),1),t("div",S,[a.value&&typeof a.value=="string"?(g(),_("a",{key:0,href:a.value,target:"_blank"},[t("img",{src:a.value,alt:a.value,class:"h-8"},null,8,j)],8,T)):x("",!0),t("input",{type:"file",accept:"image/*",class:"input",onInput:o[0]||(o[0]=l=>p(l.target.files[0]))},null,32)])]))}}),B={class:"card mx-auto max-w-2xl"},C={class:"card-body"},D={class:"grid grid-cols-1 gap-4"},E={class:"mb-2"},P={class:"mt-1 text-sm"},F={class:"alert-danger mt-1 rounded px-1"},R={class:"text-red-600"},L={class:"flex flex-col gap-2"},O={class:"mt-6 flex w-full justify-end"},se=Object.assign({layout:U},{__name:"Edit",props:["groups","customer","groupIds"],setup(d){var a,p,u;const r=d,e=y({name:(a=r.customer)==null?void 0:a.name,picture:(p=r.customer)==null?void 0:p.picture,group_ids:r.groupIds??[],phone:(u=r.customer)==null?void 0:u.uuid,_method:"put"}),c=()=>{e.post(route("user.whatsapp-web.customers.update",r.customer))};return(o,l)=>{var f,v;return g(),_("div",B,[t("div",C,[t("div",D,[m(I,{label:"Name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=n=>s(e).name=n),placeholder:"Enter customer full name",validationMessage:(f=s(e).errors)==null?void 0:f.name},null,8,["modelValue","validationMessage"]),t("div",E,[t("label",null,i(o.trans("Whatsapp Number")),1),w(t("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>s(e).phone=n),class:"input",placeholder:"ex: 880 1234567890"},null,512),[[$,s(e).phone]]),t("p",P,[M(i(o.trans(" Note:"))+" ",1),t("span",F,i(o.trans("The number should start with country code")),1)]),t("p",R,i(s(e).errors.phone),1)]),m(k,{label:"Select groups",modelValue:s(e).group_ids,"onUpdate:modelValue":l[2]||(l[2]=n=>s(e).group_ids=n),placeholder:"Select groups",validationMessage:(v=s(e).errors)==null?void 0:v.group_ids,options:d.groups,valueProp:"value"},null,8,["modelValue","validationMessage","options"]),t("div",L,[t("label",null,i(o.trans("Profile Image (Avatar)")),1),m(A,{modelValue:s(e).picture,"onUpdate:modelValue":l[3]||(l[3]=n=>s(e).picture=n)},null,8,["modelValue"])])]),t("div",O,[m(N,{onClick:c,processing:s(e).processing,"btn-text":"Update"},null,8,["processing"])])])])}}});export{se as default};

import{t as h}from"./toastComposable-BZSSJ7BC.js";import{r as f,c as r,o as i,b as o,u as e,a as d,j as v,t as l,z as y,F as x,T as k}from"./app-BPxwetsb.js";import{u as C}from"./chatStore-BmGZKHrH.js";import"./echoServiceComposable-DU9yHR3K.js";import"./modalStore-CB1x_O57.js";const S={class:"flex items-center justify-between border-b border-b-slate-200 p-3 dark:border-b-dark-900"},w={class:"flex items-center justify-start gap-x-3"},R=["src"],B={class:"absolute -right-2 bottom-0 rounded-full bg-white p-1"},T={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},j={class:"truncate text-sm font-normal text-slate-500 dark:text-slate-400"},z={key:0},L={key:1},M={class:"flex flex-wrap items-center gap-1"},N={for:"toggle-unchecked-input",class:"toggle"},V=["checked"],A={class:"label"},J={__name:"Header",setup(F){const t=C(),_=()=>{var a;let c=(a=t.activeConversation)==null?void 0:a.id;if(c.includes("@lid")){h.danger("This conversation is not supported for auto reply");return}k({module:"whatsapp-web",update_type:"auto_reply"}).put(`/user/conversations/${c}`)};return(c,s)=>{var p,g,u,b,m;const a=f("Icon");return i(),r("div",S,[o("div",w,[o("button",{onClick:s[0]||(s[0]=(...n)=>e(t).toggleLeftSidebar&&e(t).toggleLeftSidebar(...n)),type:"button",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},[d(a,{icon:"bx:menu",class:"text-2xl"})]),o("button",{type:"button",class:"avatar avatar-circle",onClick:s[1]||(s[1]=(...n)=>e(t).toggleRightSidebar&&e(t).toggleRightSidebar(...n))},[o("img",{class:"avatar-img relative",src:e(t).getConversationProfilePic(e(t).activeConversation)},null,8,R),o("div",B,[d(a,{icon:"ri:whatsapp-fill",class:"text-green-600"})])]),o("div",null,[o("h6",T,[v(l(e(t).activeConversation.name)+" ",1),o("span",{class:"rounded p-0 px-2 text-sm text-white",style:y({background:(g=e(t).getBadge((p=e(t).activeConversation)==null?void 0:p.badge_id))==null?void 0:g.color})},l((b=e(t).getBadge((u=e(t).activeConversation)==null?void 0:u.badge_id))==null?void 0:b.text),5)]),o("p",j,[e(t).getConversationType()==="group"?(i(),r(x,{key:0},[e(t).loading.groupMetadata?(i(),r("span",z,"Loading...")):(i(),r("span",L,l(((m=e(t).activeConversation.groupMetadata)==null?void 0:m.size)??0)+" Members ",1))],64)):(i(),r(x,{key:1},[v(l(e(t).activeConversation.id.split("@")[0].substring(2)),1)],64))])])]),o("div",M,[o("label",N,[o("input",{onChange:_,class:"toggle-input peer sr-only",id:"toggle-unchecked-input",type:"checkbox",checked:e(t).activeConversation.auto_reply_enabled},null,40,V),s[3]||(s[3]=o("div",{class:"toggle-body"},null,-1)),o("span",A,l(c.trans("Auto Reply")),1)]),o("button",{class:"btn",type:"button",onClick:s[2]||(s[2]=(...n)=>e(t).toggleRightSidebar&&e(t).toggleRightSidebar(...n))},[d(a,{icon:"bx:bxs-info-circle",class:"text-2xl text-primary-500"})])])])}}};export{J as default};

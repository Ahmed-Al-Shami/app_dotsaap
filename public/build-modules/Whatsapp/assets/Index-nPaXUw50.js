import{s as V,u as L,T as j,r as B,a as w,c as d,o as i,b as r,d as e,w as u,e as T,f as _,g as h,t as s,h as a,F as b,i as x,v as U,j as M,_ as C,k as m,l as Y}from"./app-BYM_31EU.js";import{h as F}from"./moment-BAtM24Ew.js";import{_ as O,a as R}from"./UserLayout-Br6IHeZb.js";import{_ as W}from"./FilterDropdown-BCKZL43N.js";import{_ as E}from"./Paginate-Cpv8cjFG.js";import{_ as K}from"./NoDataFound-BMo6R2xy.js";import{_ as P}from"./SpinnerBtn-AUjirXqh.js";import"./ValidationErrors-MJY6JPWK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ToastrContainer-Bkk7kk5A.js";import"./AssetModal-CWaGrucV.js";import"./assetStore-CRTuDG_T.js";const q={class:"label mb-1"},z=["value"],G={key:0,class:"text-red-600"},H={class:"label mb-1"},J={key:0,class:"text-red-600"},Q={class:"label mb-1"},X={key:0,class:"text-red-600"},Z={class:"mt-4 flex justify-end"},ee={class:"card card-body mb-2"},se={class:"mt-4 flex w-full flex-col gap-4"},te={key:0,class:"my-6 grid grid-flow-row grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},oe={class:"flex justify-between"},le={class:"card-title uppercase text-gray-400 dark:text-gray-50"},ae={class:"dropdown-list"},ne={class:"dropdown-list-item"},re=["onClick"],ie={class:"dropdown-list-item"},de={class:"dropdown-list-item"},me=["onClick"],pe={class:"flex flex-col gap-1 text-xs sm:text-sm"},ue={class:"flex gap-3"},ce={class:"w-1/3"},fe={class:"font-semibold"},_e={class:"w-full"},$e=Object.assign({layout:O},{__name:"Index",props:["apps","platforms"],setup(c){const{deleteRow:N}=V(),g=L(),l=j({name:"",site_link:"",platform_id:""}),D=()=>{l.post(route("user.whatsapp.apps.store"),{onSuccess:()=>{l.reset(),g.close()}})},$=[{label:"Name",value:"name"}],p=B({}),A=t=>{p.value=t,g.open("infoModal")};return(t,n)=>{var v;const f=w("Icon"),k=w("Link");return i(),d(b,null,[r(C,{state:"appModal","header-state":!0,"header-title":"Create New App"},{default:u(()=>[e("form",{onSubmit:T(D,["prevent"]),class:"space-y-2"},[e("div",null,[e("label",q,s(t.trans("Select Device")),1),_(e("select",{class:"select","onUpdate:modelValue":n[0]||(n[0]=o=>a(l).platform_id=o)},[n[3]||(n[3]=e("option",{value:""},"Select Device",-1)),(i(!0),d(b,null,x(c.platforms,o=>(i(),d("option",{value:o.id,key:o.id},s(o.name),9,z))),128))],512),[[U,a(l).platform_id]]),n[4]||(n[4]=e("small",{class:"text-gray-600"},"User Will Receive Message From The Selected Number",-1)),n[5]||(n[5]=e("br",null,null,-1)),a(l).errors.platform_id?(i(),d("small",G,s(a(l).errors.platform_id),1)):h("",!0)]),e("div",null,[e("label",H,s(t.trans("App Name")),1),_(e("input",{type:"text",class:"input","onUpdate:modelValue":n[1]||(n[1]=o=>a(l).name=o)},null,512),[[M,a(l).name]]),a(l).errors.name?(i(),d("small",J,s(a(l).errors.name),1)):h("",!0)]),e("div",null,[e("label",Q,s(t.trans("Web Link")),1),_(e("input",{type:"text",class:"input","onUpdate:modelValue":n[2]||(n[2]=o=>a(l).site_link=o)},null,512),[[M,a(l).site_link]]),a(l).errors.site_link?(i(),d("small",X,s(a(l).errors.site_link),1)):h("",!0)]),e("div",Z,[r(P,{processing:a(l).processing,"btn-text":t.trans("Create App")},null,8,["processing","btn-text"])])],32)]),_:1}),r(C,{state:"infoModal","header-state":!0,"header-title":t.trans("App Details")},{default:u(()=>[e("div",ee,[e("p",null,[e("strong",null,s(t.trans("Name")),1),m(" "+s(p.value.name),1)]),e("p",null,[e("strong",null,s(t.trans("App Key")),1),m(" "+s(p.value.key),1)]),e("p",null,[e("strong",null,s(t.trans("App Link")),1),m(" "+s(p.value.site_link),1)]),e("p",null,[e("strong",null,s(t.trans("Created")),1),m(" "+s(a(F)(p.value.created_at).format("DD MMM,YYYY h:mm A")),1)])])]),_:1},8,["header-title"]),r(W,{options:$}),e("div",se,[(v=c.apps)!=null&&v.data.length?(i(),d("div",te,[(i(!0),d(b,null,x(c.apps.data,(o,S)=>{var y;return i(),d("div",{key:S,class:"card card-body"},[e("div",oe,[e("h5",le,s(o==null?void 0:o.name),1),r(R,{"btn-type":"icon","icon-name":"bx:dots-vertical-rounded"},{default:u(()=>[e("ul",ae,[e("li",ne,[e("button",{onClick:I=>A(o),class:"dropdown-link gap-2"},[r(f,{icon:"bx:detail"}),m(" "+s(t.trans("Info")),1)],8,re)]),e("li",ie,[r(k,{href:t.route("user.whatsapp.apps.logs",o.uuid),class:"dropdown-link gap-2"},{default:u(()=>[r(f,{icon:"bx:file"}),m(" "+s(t.trans("Logs")),1)]),_:2},1032,["href"])]),e("li",de,[e("button",{type:"button",onClick:I=>a(N)(t.route("user.whatsapp.apps.destroy",o.id)),class:"dropdown-link gap-2"},[r(f,{icon:"bx:trash"}),m(" "+s(t.trans("Delete")),1)],8,me)])])]),_:2},1024)]),e("div",pe,[e("div",ue,[e("p",ce,s(t.trans("Phone Number ID")),1),n[6]||(n[6]=m(" : ",-1)),e("b",null,s((y=o.platform)==null?void 0:y.uuid),1)])]),r(k,{href:t.route("user.whatsapp.app.integration",o.uuid),class:"mt-5 flex items-center text-sm text-primary-600 hover:underline"},{default:u(()=>[e("span",fe,s(t.trans("Integration")),1),r(f,{class:"mt-1 text-xl",icon:"bx:right-arrow-alt"})]),_:2},1032,["href"])])}),128))])):(i(),Y(K,{key:1})),e("div",_e,[r(E,{links:c.apps.links},null,8,["links"])])])],64)}}});export{$e as default};

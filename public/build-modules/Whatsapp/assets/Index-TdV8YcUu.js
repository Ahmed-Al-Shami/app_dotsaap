import{u as F,s as T,T as _,c as m,o as i,b as a,d as t,l as h,t as n,F as f,i as B,h as e,I as p,k as j,g as D,w as b,e as g,f as w,j as v,_ as k}from"./app-BYM_31EU.js";import{_ as G}from"./Paginate-Cpv8cjFG.js";import{_ as I}from"./NoDataFound-BMo6R2xy.js";import{_ as x}from"./SpinnerBtn-AUjirXqh.js";import{_ as M}from"./UserLayout-Br6IHeZb.js";import{_ as O}from"./FilterDropdown-BCKZL43N.js";import"./ValidationErrors-MJY6JPWK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ToastrContainer-Bkk7kk5A.js";import"./AssetModal-CWaGrucV.js";import"./assetStore-CRTuDG_T.js";const U={class:"table-responsive mt-4 w-full"},q={class:"table"},A={class:"w-[70%] md:w-[40%]"},L={class:"w-[20%] !text-right md:w-[50%]"},R={class:"w-[10%] !text-right"},z={key:0,class:"tbody"},H={class:"flex items-center gap-2"},J=["src"],K={class:"!text-right"},P={class:"flex justify-end"},Q={class:"dropdown","data-placement":"bottom-start"},W={class:"dropdown-toggle"},X={class:"dropdown-content w-56"},Y={class:"dropdown-list"},Z={class:"dropdown-list-item"},tt=["onClick"],st={class:"dropdown-list-item"},et=["onClick"],ot={class:"w-full"},nt={class:"mb-2"},at={class:"mt-2 text-end"},lt={class:"mb-2"},it={class:"mt-2 text-end"},wt=Object.assign({layout:M},{__name:"Index",props:["device","groups"],setup(d){const u=F(),{deleteRow:y}=T(),r=_({name:""}),C=()=>{r.post(route("user.whatsapp.groups.store"),{onSuccess:()=>{u.close("groupCreate"),r.reset()}})},l=_({id:null,name:""}),N=()=>{l.put(route("user.whatsapp.groups.update",{group:l.id}),{onSuccess:()=>u.close("groupEdit")})},$=s=>{l.id=s.id,l.name=s.name,u.open("groupEdit")},E=[{label:"Name",value:"name"}];return(s,c)=>(i(),m(f,null,[a(O,{options:E}),t("div",U,[t("table",q,[t("thead",null,[t("tr",null,[t("th",A,n(s.trans("Group Name")),1),t("th",L,n(s.trans("Total Customers")),1),t("th",R,n(s.trans("Action")),1)])]),d.groups.data.length?(i(),m("tbody",z,[(i(!0),m(f,null,B(d.groups.data,(o,S)=>(i(),m("tr",{key:S},[t("td",null,[t("div",H,[t("img",{src:"https://ui-avatars.com/api/?name="+o.name,class:"h-8 w-8"},null,8,J),t("span",null,n(o.name),1)])]),t("td",K,n(o.customers_count),1),t("td",null,[t("div",P,[t("div",Q,[t("div",W,[a(e(p),{class:"h-5 text-3xl text-slate-400",icon:"bx:dots-vertical-rounded"})]),t("div",X,[t("ul",Y,[t("li",Z,[t("a",{class:"dropdown-link",href:"#",onClick:V=>$(o)},[a(e(p),{icon:"bx:bxs-edit-alt"}),t("span",null,n(s.trans("Edit")),1)],8,tt)]),t("li",st,[t("button",{class:"dropdown-link delete-confirm",href:"#",onClick:V=>e(y)(s.route("user.whatsapp.groups.destroy",o.id))},[a(e(p),{icon:"bx:trash"}),j(" "+n(s.trans("Delete")),1)],8,et)])])])])])])]))),128))])):(i(),h(I,{key:1,forTable:!0}))]),t("div",ot,[d.groups.data.length?(i(),h(G,{key:0,links:d.groups.links},null,8,["links"])):D("",!0)])]),a(k,{state:"groupCreate"},{default:b(()=>[t("form",{onSubmit:g(C,["prevent"])},[t("div",nt,[t("label",null,n(s.trans("Name")),1),w(t("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=o=>e(r).name=o),class:"input",placeholder:"Group Name",required:""},null,512),[[v,e(r).name]])]),t("div",at,[a(x,{classes:"btn btn-primary",processing:e(r).processing,"btn-text":s.trans("Create")},null,8,["processing","btn-text"])])],32)]),_:1}),a(k,{state:"groupEdit"},{default:b(()=>[t("form",{onSubmit:g(N,["prevent"])},[t("div",lt,[t("label",null,n(s.trans("Name")),1),w(t("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=o=>e(l).name=o),class:"input"},null,512),[[v,e(l).name]])]),t("div",it,[a(x,{classes:"btn btn-primary",processing:e(l).processing,"btn-text":s.trans("Save Changes")},null,8,["processing","btn-text"])])],32)]),_:1})],64))}});export{wt as default};

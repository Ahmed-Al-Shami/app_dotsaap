import{T as x,q as v,p as C,c as d,o as l,b as m,d as s,x as S,t as o,f as V,g as h,h as a,v as w,l as p,F as U}from"./app-BYM_31EU.js";import{_ as I}from"./AssetModal-CWaGrucV.js";import{_ as E}from"./SelectField-CEUUVeny.js";import{_ as L}from"./BlankLayout-C7xQ0UBM.js";import{_ as P}from"./InputField-DK89fRTX.js";import{_ as $}from"./CreateForm-ml_UMOrA.js";import D from"./InteractiveMessage-DI_EbudE.js";import B from"./FormIndex-CX-Ilrza.js";import H from"./PreviewIndex-BOqCrzG8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./assetStore-CRTuDG_T.js";import"./ToastrContainer-Bkk7kk5A.js";import"./AssetInput-D_06EOMO.js";import"./ShortCodes-BabPkVzJ.js";import"./dynamic-import-helper-BheWnx7M.js";const F={class:"p-4 sm:p-6"},Y={class:"mt-4 grid grid-cols-2 place-items-start gap-6 md:grid-cols-12"},z={class:"col-span-full w-full md:col-span-4 lg:col-span-2"},W={class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},K={class:"card flex flex-col gap-4 p-3"},X={value:"button"},j={value:"cta_url"},q={value:"product"},Z={value:"list"},G={value:"product_list"},J={value:"catalog_message"},Q={class:"col-span-full w-full md:col-span-8 lg:col-span-10"},ee={class:"grid grid-cols-1 gap-2 md:grid-cols-5"},te={class:"md:col-span-3"},ae={key:0,class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},se={class:"md:col-span-2"},oe={class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},ie={class:"mt-2 flex justify-end"},Ee=Object.assign({layout:L},{__name:"Create",props:["template"],setup(M){var g,y,b,f;const n=M,c=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),T=["text","image","audio","video","document","location","contact","interactive"],_={text:{preview_url:!1,body:""},image:{caption:"",link:""},audio:{link:""},video:{caption:"",link:""},document:{caption:"",link:""},location:{longitude:"",latitude:"",name:"",address:""},contact:{addresses:[{street:"STREET",city:"CITY",state:"STATE",zip:"ZIP",country:"COUNTRY",country_code:"COUNTRY_CODE",type:"HOME"}],birthday:"YEAR_MONTH_DAY",emails:[{email:"EMAIL",type:"WORK"},{email:"EMAIL",type:"HOME"}],name:{formatted_name:"NAME",first_name:"FIRST_NAME",last_name:"LAST_NAME",middle_name:"MIDDLE_NAME",suffix:"SUFFIX",prefix:"PREFIX"},org:{company:"COMPANY",department:"DEPARTMENT",title:"TITLE"},phones:[{phone:"PHONE_NUMBER",type:"HOME"},{phone:"PHONE_NUMBER",type:"WORK",wa_id:"PHONE_OR_WA_ID"}],urls:[{url:"URL",type:"WORK"},{url:"URL",type:"HOME"}]}},u={button:{buttons:[{type:"reply",reply:{id:c(),title:""}}]},cta_url:{name:"cta_url",parameters:{display_text:"Visit our website",url:"https://example.com"}},list:{button:"BUTTON_TEXT",sections:[{title:"",rows:[{id:c(),title:"",description:""}]}]},catalog_message:{name:"catalog_message",parameters:{thumbnail_product_retailer_id:""}},product:{catalog_id:"",product_retailer_id:""},product_list:{catalog_id:"",sections:[{title:"",product_items:[{product_retailer_id:""}]}]}},k={type:"button",header:{type:"text",text:""},body:{text:""},footer:{text:""},action:u.button},e=x({name:((g=n.template)==null?void 0:g.name)??"",message_type:((y=n.template)==null?void 0:y.type)??"text",meta:((b=n.template)==null?void 0:b.meta)??_.text,status:((f=n.template)==null?void 0:f.status)??"active",_method:n.template?"put":"post"}),N=t=>{t=="interactive"?e.meta=k:e.meta=_[t]},O=t=>{t&&(e.meta.action={...u[t]})};v(()=>e.message_type,N),v(()=>{var t;return(t=e.meta)==null?void 0:t.type},O);const R=()=>{let t="/user/whatsapp/templates";n.template&&(t=`/user/whatsapp/templates/${n.template.id}`),e.post(t)},A=C(()=>({type:e.message_type,body:e.meta}));return(t,i)=>(l(),d(U,null,[m(I),s("main",F,[m(S),s("div",Y,[s("div",z,[s("div",W,o(t.trans("Template")),1),s("div",K,[m(P,{label:"Name",modelValue:a(e).name,"onUpdate:modelValue":i[0]||(i[0]=r=>a(e).name=r),placeholder:"Template name",validationMessage:a(e).errors.name},null,8,["modelValue","validationMessage"]),m(E,{label:"Message Type",modelValue:a(e).message_type,"onUpdate:modelValue":i[1]||(i[1]=r=>a(e).message_type=r),placeholder:"SELECT",options:T},null,8,["modelValue"]),m(E,{label:"Status",modelValue:a(e).status,"onUpdate:modelValue":i[2]||(i[2]=r=>a(e).status=r),placeholder:"SELECT",options:["active","inactive"]},null,8,["modelValue"]),a(e).message_type=="interactive"?V((l(),d("select",{key:0,class:"select","onUpdate:modelValue":i[3]||(i[3]=r=>a(e).meta.type=r)},[s("option",X,o(t.trans("Button")),1),s("option",j,o(t.trans("Call to Action URL")),1),s("option",q,o(t.trans("Product")),1),s("option",Z,o(t.trans("List")),1),s("option",G,o(t.trans("Product List")),1),s("option",J,o(t.trans("Catalog Message")),1)],512)),[[w,a(e).meta.type]]):h("",!0)])]),s("div",Q,[s("div",ee,[s("div",te,[a(e).message_type!=="interactive"?(l(),d("div",ae,o(a(e).message_type)+" "+o(t.trans("Message")),1)):h("",!0),a(e).message_type=="interactive"?(l(),p($,{key:1,meta:a(e).meta,errors:a(e).errors},null,8,["meta","errors"])):(l(),p(B,{key:2,type:a(e).message_type,body:a(e).meta},null,8,["type","body"]))]),s("div",se,[s("div",oe,o(t.trans("Preview")),1),a(e).message_type=="interactive"?(l(),p(D,{key:0,components:a(e).meta},null,8,["components"])):(l(),p(H,{key:1,message:A.value},null,8,["message"])),s("div",ie,[s("button",{onClick:R,class:"btn btn-primary"},o(t.trans("Save Template")),1)])])])])])])],64))}});export{Ee as default};
